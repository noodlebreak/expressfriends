// User and UserFriends table
let sequelize = require('./index').sequelize;
let Sequelize = require('sequelize');

const User = sequelize.define('user', {
  firstName: {
    type: Sequelize.STRING
  },
  lastName: {
    type: Sequelize.STRING
  }
});

// force: true will drop the table if it already exists
User.sync({force: false}).then(() => {
  // Table created
  return User.create({
    firstName: 'John',
    lastName: 'Hancock'
  });
});

User.belongsToMany(User, {as: 'friends', through: 'Friends'});

// class User {
//     constructor(request){
//         this.id = Math.random()*10;
//         this.first_name = 'Ashish-' + Math.random()*100;
//         this.last_name = 'Kumar-' + Math.random()*100;
//         this.request = request;
//     }
//     friends(){
//         return [];
//     }
//     _filter(filter_kwargs){
//         // filter queryset using kwargs passed
//        return {};
//     }
//     getUsers(){
//         return [
//             {
//                 id: this.id,
//                 first_name: this.first_name,
//                 last_name: this.last_name,
//             }
//         ]
//     }
// }

// class Friend {

// }

module.exports = {
    User
}